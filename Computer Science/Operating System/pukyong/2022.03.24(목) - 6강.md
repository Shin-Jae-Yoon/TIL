# 2022.03.24(목) - 운영체제 수업

<br>

## System Calls

<br>

**시스템 호출**은 운영체제에 의해 사용할 수 있게 된 서비스에 대한 인터페이스를 제공한다. 하드웨어에 직접 접근해야 하는 저수준 작업은 어셈블리 명령으로 작성되어야 하더라도 시스템 호출은 C와 C++ 언어로 작성된 **함수 형태**로 제공 된다.

<br>

API(Application Programming Interface)는 사용자가 프로그래밍할 때 사용하는 함수이다. 예를 들어, write() 함수를 사용하면 write() 함수가 구현된 쉘 라이브러리에 가고, 거기에서 system call을 하는 write() 함수가 또 있다. API는 보통 라이브러리(library) 형태로 제공된다.

<br>

    프로그래밍할 때 사용한 write()는 system call이 아닌 API이다.
    쉘 라이브러리에 있는 wirte()가 진짜 system call이다.
    이 system call은 운영체제에서 제공하는 것이다.

<br>

윈도우와 리눅스의 system call은 당연히 다를 것이다. 이때, 사용자로부터 입력 받아서 각각의 운영체제에 맞는 system call을 하게 해주는 API가 있다. 이것이 바로 **POSIX API**이다.

<br>

Java API도 있는데, JVM을 통해 입력받은 것을 해석하고 리눅스, 우니도우 어디에서든 소스 코드가 실행될 수 있도록 적절한 system call을 한다. 이식성이 굉장히 좋지만, 인터프리터라서 해석해야 하기에 속도가 매우 느리다는 단점이 있다.

<br>

-   연속된 시스템 호출의 예

1. 입력 파일 이름 획득
   화면에 프롬포트 출력
   입력 받아들임
2. 출력 파일 이름 획득
   화면에 프롬포트 출력
   입력 받아들임
3. 입력 파일 열기
   파일 존재하지 않을 경우, 비정상적으로 종료
4. 출력 파일 생성
   파일이 존재할 경우, 비정상적으로 종료
5. 루프
   입력 파일로부터 읽어 들임
   출력 파일에 씀
   읽기가 실패할 때까지
6. 출력 파일 닫기
7. 화면에 완료 메시지 출력
8. 정상적으로 종료
